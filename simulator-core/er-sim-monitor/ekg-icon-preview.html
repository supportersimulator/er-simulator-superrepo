<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EKG Monitor Icon Preview</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #1a1a1a;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      color: #fff;
      padding: 40px;
      min-height: 100vh;
    }

    h1 {
      text-align: center;
      margin-bottom: 40px;
      font-size: 24px;
      font-weight: 300;
      letter-spacing: 2px;
    }

    .container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 40px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .demo-section {
      text-align: center;
      position: relative;
    }

    .label {
      margin-bottom: 15px;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
      opacity: 0.7;
    }

    .size-label {
      margin-top: 15px;
      font-size: 12px;
      opacity: 0.5;
    }

    /* Selection checkbox */
    .selection-checkbox {
      margin-top: 10px;
    }

    .selection-checkbox input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
      accent-color: #00BFFF;
    }

    .selection-checkbox label {
      margin-left: 8px;
      font-size: 13px;
      cursor: pointer;
      opacity: 0.6;
      transition: opacity 0.2s;
    }

    .selection-checkbox input[type="checkbox"]:checked + label {
      opacity: 1;
      color: #00BFFF;
      font-weight: 500;
    }

    /* Notes textarea */
    .notes-area {
      margin-top: 10px;
    }

    .notes-area textarea {
      width: 100%;
      max-width: 160px;
      padding: 8px;
      background: #1a1a1a;
      border: 1px solid #3a3a3a;
      color: #fff;
      border-radius: 4px;
      font-size: 12px;
      resize: vertical;
      min-height: 50px;
    }

    .notes-area textarea::placeholder {
      color: #666;
    }

    /* EKG Monitor Container */
    .ekg-monitor {
      width: 120px;
      height: 120px;
      position: relative;
      border: 2px solid #2a2a2a;
      border-radius: 8px;
      background: #0a0a0a;
      overflow: hidden;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Normal State - Blue/Cyan with fluorescent glow */
    .ekg-monitor.normal {
      box-shadow:
        0 0 15px rgba(0, 191, 255, 0.3),
        inset 0 0 10px rgba(0, 191, 255, 0.1);
    }

    .ekg-monitor.normal .waveform {
      stroke: #00BFFF;
      filter: drop-shadow(0 0 3px #00BFFF) drop-shadow(0 0 6px #0088CC);
    }

    /* Abnormal State - Green/Lime with fluorescent glow */
    .ekg-monitor.abnormal {
      box-shadow:
        0 0 15px rgba(0, 255, 100, 0.3),
        inset 0 0 10px rgba(0, 255, 100, 0.1);
    }

    .ekg-monitor.abnormal .waveform {
      stroke: #00FF64;
      filter: drop-shadow(0 0 3px #00FF64) drop-shadow(0 0 6px #00CC50);
    }

    /* Critical State - Red with pulsing fluorescent glow */
    .ekg-monitor.critical {
      box-shadow:
        0 0 20px rgba(255, 50, 50, 0.4),
        inset 0 0 10px rgba(255, 50, 50, 0.15);
      animation: critical-pulse 1.5s ease-in-out infinite;
    }

    .ekg-monitor.critical .waveform {
      stroke: #FF3232;
      filter: drop-shadow(0 0 4px #FF3232) drop-shadow(0 0 8px #CC0000);
    }

    @keyframes critical-pulse {
      0%, 100% {
        box-shadow:
          0 0 20px rgba(255, 50, 50, 0.4),
          inset 0 0 10px rgba(255, 50, 50, 0.15);
      }
      50% {
        box-shadow:
          0 0 30px rgba(255, 50, 50, 0.6),
          inset 0 0 15px rgba(255, 50, 50, 0.25);
      }
    }

    /* Flatline/Pulseless State - Red with continuous beep indicator */
    .ekg-monitor.flatline {
      box-shadow:
        0 0 25px rgba(255, 0, 0, 0.5),
        inset 0 0 15px rgba(255, 0, 0, 0.2);
    }

    .ekg-monitor.flatline .waveform {
      stroke: #FF0000;
      filter: drop-shadow(0 0 5px #FF0000) drop-shadow(0 0 10px #AA0000);
    }

    /* Beep indicator for flatline */
    .beep-indicator {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 8px;
      height: 8px;
      background: #FF0000;
      border-radius: 50%;
      box-shadow: 0 0 8px #FF0000;
      animation: beep-pulse 0.8s ease-in-out infinite;
    }

    @keyframes beep-pulse {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.5);
        opacity: 0.6;
      }
    }

    /* SVG Container */
    svg {
      width: 100%;
      height: 60%;
    }

    .waveform {
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
      /* Continuous scrolling animation - seamless loop */
      stroke-dasharray: 150;
      animation: scan 2.5s linear infinite;
    }

    /* Fast heartbeat for critical */
    .ekg-monitor.critical .waveform {
      animation: scan-fast 1.2s linear infinite;
    }

    /* No animation for flatline - just straight line */
    .ekg-monitor.flatline .waveform {
      animation: none;
      stroke-dasharray: none;
    }

    /* Smooth continuous scrolling - the line scrolls left infinitely */
    @keyframes scan {
      0% {
        stroke-dashoffset: 150;
      }
      100% {
        stroke-dashoffset: 0;
      }
    }

    @keyframes scan-fast {
      0% {
        stroke-dashoffset: 150;
      }
      100% {
        stroke-dashoffset: 0;
      }
    }

    /* Size variations */
    .ekg-monitor.small {
      width: 80px;
      height: 80px;
    }

    .ekg-monitor.large {
      width: 160px;
      height: 160px;
    }

    /* Controls */
    .controls {
      margin-top: 60px;
      text-align: center;
      padding: 30px;
      background: #0a0a0a;
      border-radius: 12px;
      border: 1px solid #2a2a2a;
    }

    .controls h3 {
      margin-bottom: 20px;
      font-weight: 300;
      letter-spacing: 1px;
    }

    .control-row {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    button {
      padding: 12px 24px;
      background: #1a1a1a;
      border: 1px solid #3a3a3a;
      color: #fff;
      cursor: pointer;
      border-radius: 6px;
      font-size: 14px;
      transition: all 0.2s;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    button:hover {
      background: #2a2a2a;
      border-color: #4a4a4a;
    }

    button.active {
      background: #00BFFF;
      border-color: #00BFFF;
      color: #000;
    }

    .info {
      margin-top: 40px;
      padding: 20px;
      background: rgba(0, 191, 255, 0.05);
      border-left: 3px solid #00BFFF;
      border-radius: 4px;
    }

    .info h4 {
      margin-bottom: 10px;
      color: #00BFFF;
    }

    .info p {
      font-size: 14px;
      line-height: 1.6;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <h1>EKG Monitor Icon - Animation Preview</h1>

  <div class="container">
    <!-- Normal State -->
    <div class="demo-section">
      <div class="label">Normal (60 BPM)</div>
      <div class="ekg-monitor normal">
        <svg viewBox="0 0 150 60" preserveAspectRatio="xMidYMid meet">
          <polyline
            class="waveform"
            points="0,30 20,30 23,28 26,30 29,30 32,32 35,10 38,48 41,30 50,30 53,27 56,30 70,30 73,28 76,30 79,30 82,32 85,10 88,48 91,30 100,30 103,27 106,30 120,30 123,28 126,30 129,30 132,32 135,10 138,48 141,30 150,30"/>
        </svg>
      </div>
      <div class="size-label">120×120px</div>
      <div class="selection-checkbox">
        <input type="checkbox" id="select-normal" data-state="normal" data-size="medium">
        <label for="select-normal">Select as favorite</label>
      </div>
      <div class="notes-area">
        <textarea id="notes-normal" placeholder="Add notes..."></textarea>
      </div>
    </div>

    <!-- Abnormal State -->
    <div class="demo-section">
      <div class="label">Abnormal (Irregular)</div>
      <div class="ekg-monitor abnormal">
        <svg viewBox="0 0 150 60" preserveAspectRatio="xMidYMid meet">
          <polyline
            class="waveform"
            points="0,30 15,30 18,25 21,30 27,35 33,30 36,20 42,45 45,30 54,30 60,28 63,30 66,38 72,30 75,15 81,50 84,30 90,30 96,26 99,30 105,36 111,30 114,18 120,47 123,30 132,30 138,27 141,30 150,30"/>
        </svg>
      </div>
      <div class="size-label">120×120px</div>
    </div>

    <!-- Critical State -->
    <div class="demo-section">
      <div class="label">Critical (Fast)</div>
      <div class="ekg-monitor critical">
        <svg viewBox="0 0 150 60" preserveAspectRatio="xMidYMid meet">
          <polyline
            class="waveform"
            points="0,30 10,30 12,28 14,30 16,30 18,32 20,10 22,48 24,30 30,30 32,28 34,30 36,30 38,32 40,10 42,48 44,30 50,30 52,28 54,30 56,30 58,32 60,10 62,48 64,30 70,30 72,28 74,30 76,30 78,32 80,10 82,48 84,30 90,30 92,28 94,30 96,30 98,32 100,10 102,48 104,30 110,30 112,28 114,30 116,30 118,32 120,10 122,48 124,30 130,30 132,28 134,30 136,30 138,32 140,10 142,48 144,30 150,30"/>
        </svg>
      </div>
      <div class="size-label">120×120px</div>
    </div>

    <!-- Flatline State -->
    <div class="demo-section">
      <div class="label">Pulseless (Flatline)</div>
      <div class="ekg-monitor flatline">
        <div class="beep-indicator"></div>
        <svg viewBox="0 0 150 60" preserveAspectRatio="xMidYMid meet">
          <polyline
            class="waveform"
            points="0,30 150,30"/>
        </svg>
      </div>
      <div class="size-label">120×120px + Beep</div>
    </div>

    <!-- Small Size -->
    <div class="demo-section">
      <div class="label">Normal (Small)</div>
      <div class="ekg-monitor normal small">
        <svg viewBox="0 0 150 60" preserveAspectRatio="xMidYMid meet">
          <polyline
            class="waveform"
            points="0,30 20,30 23,28 26,30 29,30 32,32 35,10 38,48 41,30 50,30 53,27 56,30 70,30 73,28 76,30 79,30 82,32 85,10 88,48 91,30 100,30 103,27 106,30 120,30 123,28 126,30 129,30 132,32 135,10 138,48 141,30 150,30"/>
        </svg>
      </div>
      <div class="size-label">80×80px</div>
    </div>

    <!-- Large Size -->
    <div class="demo-section">
      <div class="label">Normal (Large)</div>
      <div class="ekg-monitor normal large">
        <svg viewBox="0 0 150 60" preserveAspectRatio="xMidYMid meet">
          <polyline
            class="waveform"
            points="0,30 20,30 23,28 26,30 29,30 32,32 35,10 38,48 41,30 50,30 53,27 56,30 70,30 73,28 76,30 79,30 82,32 85,10 88,48 91,30 100,30 103,27 106,30 120,30 123,28 126,30 129,30 132,32 135,10 138,48 141,30 150,30"/>
        </svg>
      </div>
      <div class="size-label">160×160px</div>
    </div>
  </div>

  <div class="controls">
    <h3>Interactive Testing</h3>
    <div class="control-row">
      <button onclick="changeState('normal')" class="active" id="btn-normal">Normal</button>
      <button onclick="changeState('abnormal')" id="btn-abnormal">Abnormal</button>
      <button onclick="changeState('critical')" id="btn-critical">Critical</button>
      <button onclick="changeState('flatline')" id="btn-flatline">Flatline</button>
    </div>
    <div class="control-row">
      <button onclick="changeSize('small')">Small (80px)</button>
      <button onclick="changeSize('medium')">Medium (120px)</button>
      <button onclick="changeSize('large')">Large (160px)</button>
    </div>
  </div>

  <div class="info">
    <h4>State-Based Animation Logic</h4>
    <p>
      <strong>Normal (Blue):</strong> Vitals within safe range → Blue EKG loops infinitely until vitals change<br>
      <strong>Abnormal (Green):</strong> Vitals show irregularity → Green EKG loops infinitely until critical or normalized<br>
      <strong>Critical (Red):</strong> Dangerous vitals → Red fast EKG loops infinitely until flatline or stabilized<br>
      <strong>Flatline (Red):</strong> No pulse detected → Straight red line + beeping dot loops infinitely<br>
      <br>
      <strong>File Size:</strong> ~3KB (HTML+CSS only, no images or JS dependencies)<br>
      <strong>Animation:</strong> Pure CSS with GPU-accelerated stroke-dashoffset (60fps native)<br>
      <strong>Scalability:</strong> SVG vectors scale infinitely without quality loss<br>
      <strong>Battery Impact:</strong> Minimal - CSS animations use hardware acceleration<br>
      <strong>Lag Risk:</strong> Zero - no JavaScript event loop overhead, no canvas redraws<br>
      <strong>Fluorescent Glow:</strong> Achieved with CSS filter drop-shadow (2-layer) + box-shadow
    </p>
  </div>

  <div class="info" style="margin-top: 20px; border-left-color: #00FF64;">
    <h4>Integration with MonitorIcon Component</h4>
    <p>
      The icon state will be determined by the escalation system:<br>
      <code style="color: #00BFFF;">escalationPhase === 0</code> → Normal (Blue)<br>
      <code style="color: #00FF64;">escalationPhase === 1 or 2</code> → Abnormal (Green)<br>
      <code style="color: #FF3232;">escalationPhase === 3 or 4</code> → Critical (Red)<br>
      <code style="color: #FF0000;">escalationPhase === 5</code> → Flatline (Red)<br>
      <br>
      Each state's animation runs continuously (infinite loop) until vitals trigger a state change.
    </p>
  </div>

  <script>
    // Simple state switcher for testing
    const testMonitor = document.querySelector('.ekg-monitor.large');

    function changeState(state) {
      testMonitor.className = 'ekg-monitor large ' + state;

      // Update active button
      document.querySelectorAll('.control-row button').forEach(btn => {
        btn.classList.remove('active');
      });
      document.getElementById('btn-' + state).classList.add('active');

      // Add/remove beep indicator for flatline
      const existingBeep = testMonitor.querySelector('.beep-indicator');
      if (state === 'flatline' && !existingBeep) {
        const beep = document.createElement('div');
        beep.className = 'beep-indicator';
        testMonitor.appendChild(beep);
      } else if (state !== 'flatline' && existingBeep) {
        existingBeep.remove();
      }
    }

    function changeSize(size) {
      const sizeClass = size === 'small' ? 'small' : size === 'large' ? 'large' : '';
      const currentState = testMonitor.className.split(' ').find(c =>
        ['normal', 'abnormal', 'critical', 'flatline'].includes(c)
      );
      testMonitor.className = 'ekg-monitor ' + sizeClass + ' ' + (currentState || 'normal');
    }
  </script>
</body>
</html>